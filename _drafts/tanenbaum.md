---
layout: note
title: "[Конспект][Draft] Компьютерные сети по Таненбауму"
date: '2017-11-08 19:00:00'
key: 8
category:
  - it
  - network
---
## Глава 1. Введение
### Применение компьютерных сетей

{% include_relative _tanenbaum/usage_of_networks.html %}
<!--_-->
### Сетевое оборудование
Существует два типа технологии передачи данных:

- Сети с передачей от узла к узлу — состоят из соединенных между собой пар машин. Прежде чем короткие сообщения, называемые пакетами, пройдут от источника до пункта назначения, они посетят несколько промежуточных машин. Если присутствует один источник и ровно один получатель, то сеть называют однонаправленной передачей (unicasting).
- Широковещательные сети отличается тем, что обладает единым каналом связи. Сигнал посылается одним компьютером сети, а используется всеми. При этом в поле адреса в каждом пакете указывается кому адресуется сообщение, а машина принимает только пакет, адресованный ей. Если сеть позволяет адресовать пакет все компьютером сети, то это называется широковещательной передачей. Если некоторой группе, то многоадресной передачей.

Другой способ классификации — это размер сети.

- Персональные сети (PAN) — позволяют общаться устройствам вблизи человека, например компьютер и беспроводная клавиатура. Так, например, технология Bluetooth использует парадигму Master-Slave, то есть системный модуль (компьютер) говорит ведомым устройствам как вести широковещательную передачу (адреса, продолжительность передачи, частоты и подобное).
- Локальная сеть — частная сеть, размещающаяся в одном здании, квартире или на территории одной организации. При беспроводной сети используется технология IEEE 802.11, или Wi-Fi. Проводные ЛВС используют различные технологии передачи, медные провода или оптоволокно, но наиболее распространен IEEE 802.3, или Ethernet.
- Муниципальные сети (metropolitan area network MAN) объединяют компьютеры в пределах города, например система кабельного телевидения или WiMax.
- Глобальная сеть (wide area network WAN) охватывает большую географическую область, возможно страну или континент. Такая сеть состоит из двух компонентов: линий связи и переключающих элементов (маршрутизаторы). Линии связи переносят данные от машины к машине, а маршрутизаторы выбирают выход, когда сигнал появляется на входе. Глобальная сеть, как правило, принадлежит одному провайдеру, а набор линий и маршрутизаторов называется подсетью. При этом в подсеть не входят подключенные к ней локальные сети, но вместе они образуют глобальную.

### Сетевое ПО
Для упрощения структуры большинство сетей организуются в наборы уровней или слоёв, каждый последующий возводится над предыдущим. Количество уровней, их названия, содержание и назначение разнятся от сети к сети. Однако во всех сетях целью каждого уровня является предоставление неких сервисов для вышестоящих уровней. При этом от них скрываются детали реализации предоставляемого сервиса. Уровень n одной машины поддерживает связь с уровнем n другой машины с помощью правил, которые называются протоколом уровня n. В действительности каждый уровень передает данные и управление нижележащему уровню, пока не достигается физическая среда, по которой и производится обмен информации. Между парой соседних уровней находится интерфейс, определяющий набор операций, которые нижний уровень предоставляет вышестоящему. Набор уровней и протоколов сети называется его архитектурой.

Проблемы, возникающие при разработке уровней:
- Надежность — все пакеты должны дойти невредимыми. Для этого используются алгоритмы, посылающие пакет повторно, если он пришел поврежденным. Также необходимо правильно маршрутизировать пакет, если один из промежуточных сервером вышел из строя.
- Развитие сетей — сети должны быть масштабируемыми.
- Распределение ресурсов — один узел не должен мешать работе другого. Слишком быстрые отправители не должны перегружать медленного получателя. Перегрузку сети называют скоплением.
- Защита сети — никто не должен перехватить используемую информацию.

Уровни могут предлагать вышестоящим уровням услуги двух типов:
- С наличием соединения — при использовании сервиса устанавливается соединение, а при окончании соединение разрывается. Иногда перед началом передачи машины обмениваются приветствиями, договариваясь о его параметрах.
- Без установления соединения — здесь может быть два варианта. Либо каждый промежуточный узел дожидается получения всех пакетов (буферизация), либо отправляет пакеты дальше, не дожидаясь полного получения.

Каждая служба характеризуется качеством обслуживания. Надежные гарантируют доставку, они бывают двух типов — последовательности сообщений и байтовые потоки. Ненадежные (службы дейтаграмм) не требуют подтверждения о доставке, но иногда подтверждения могут таки приходить по обратному вызову.

Каждый сервис описывается примитивами — командами, доступных пользователю. Они зависят от природы сервиса. Минимальный набор примитивов, обеспечивающий надежную передачу битового потока:
- `LISTEN` — ожидание входящего соединения. (сервер)
- `CONNECT` — установка соединения с ожидающим объектом того же ранга. (клиент)
- `ACCEPT` — прием соединения от объекта того же ранга. (сервер)
- `RECEIVE` — блокировка и ожидание входящего сообщения. (сервер и клиент)
- `SEND` — отправка сообщения ожидающему объекту того же ранга. (клиент и сервер)
- `DISCONNECT` — разрыв соединения. (клиент и сервер)

Служба (или сервис) — это набор примитивов (операций), которые более низкий уровень предоставляет более высокому. Служба описывает интерфейс между двумя уровнями, в котором нижний уровень является поставщиком сервиса, а верхний — его потребителем.
Протокол — это набор правил, описывающих формат и назначение кадров, пакетов или сообщений, которыми обмениваются объекты одного ранга внутри уровня. Можно менять протокол по желанию, при условии, что при этом остаются неизменными службы, предоставляемые пользователям.
Служба определяет операции, которые могут выполняться с объектом, но не описывает, как реализованы эти операции. В этом случае протокол, напротив, относится к реализации службы и, таким образом, невидим для пользователей службы.

### Эталонные модели
Две важнейших модели — OSI и TCP/IP. При этом в реальном мире используется архитектура первой и протоколы второй.

Модель OSI состоит из семи уровней:
- Физический уровень занимается реальной передачей необработанных битов по каналу связи. При разработке сети необходимо убедиться, что когда одна сторона передает единицу, то принимающая сторона получает также единицу, а не ноль. Принципиальными вопросами здесь являются следующие: какое напряжение должно использоваться для отображения единицы, а какое для нуля; сколько микросекунд длится бит; может ли передача производиться одновременно в двух направлениях; как устанавливается начальная связь и как она прекращается, когда обе стороны за- кончили свои задачи; из какого количества проводов должен состоять кабель и какова функция каждого провода.
- Уровень передачи данных должен быть способным передавать «сырые» данные физического уровня по надежной линии связи, свободной от не обнаруженных ошибок, и маскировать реальные ошибки, так что сетевой уровень их не видит. Эта задача выполняется при помощи разбиения входных данных на кадры. Кадры данных передаются последовательно с обработкой кадров подтверждения, отсылаемых обратно получателем.
- Сетевой уровень занимается управлением операциями подсети. Важнейшим моментом здесь является определение маршрутов пересылки пакетов от источника к пункту назначения.
- Транспортный уровень — основная функция принять данные от сеансового уровня, разбить их при необходимости на небольшие части, передать их сетевому уровню и гарантировать, что эти части в правильном виде прибудут по назначению. Другими словами, программа на машине-источнике поддерживает связь с подобной программой на другой машине при помощи заголовков сообщений и управляющих сообщений. На более низких уровнях для поддержки этого соединения устанавливаются соединения между всеми соседними машинами, через которые проходит маршрут сообщений. Различие между уровнями с 1-го по 3-й, действующих по принципу звеньев цепи, и уровнями с 4-го по 7-й, являющимися сквозными.
- Сеансовый уровень позволяет пользователям различных компьютеров устанавливать сеансы связи друг с другом. При этом предоставляются различные типы сервисов, среди которых управление диалогом (отслеживание очередности передачи данных), управление маркерами (предотвращение одновременного выполнения критичной операции несколькими системами) и синхронизация (установка служебных меток внутри длинных сообщений, позволяющих продолжить передачу с того места, на котором она оборвалась, даже после сбоя и восстановления).
- Уровень представления занимается по большей части синтаксисом и семантикой передаваемой информации. Чтобы было возможно общение компьютеров с различными внутренними представлениями данных, необходимо преобразовывать форматы данных друг в друга, передавая их по сети в неком стандартизированном виде. Уровень представления занимается этими преобразованиями, предоставляя возможность определения и изменения структур данных более высокого уровня (на- пример, записей баз данных).
- Прикладной уровень содержит набор популярных протоколов, необходимых пользователям. Одним из наиболее распространенных является протокол передачи гипертекста HTTP (HyperText Transfer Protocol), который составляет основу технологии Всемирной паутины. Когда браузер запрашивает веб-страницу, он передает ее имя (адрес) и рассчитывает на то, что сервер, на котором расположена страница, будет использовать HTTP. Сервер в ответ отсылает страницу. Другие прикладные протоколы используются для передачи файлов, электронной почты, сетевых рассылок.

Модель TCP/IP состоит из четырех уровней:
- Канальный уровень — самый низкий уровень в модели, уровень канала, описывает то, как и что каналы, такие как последовательные линии и классический Ethernet, должны сделать, чтобы удовлетворить потребности этого межсетевого уровня без установления соединения.
- Межсетевой уровень соответсвует сетевому уровню OSI. Здесь определен официальный формат пакета и протокол IP. Задачей межсетевого протокола является доставка IP-пакетов к пунктам назначения.
- Транспортный уровень создан для того, чтобы объекты одного ранга на приемных и передающих хостах могли поддерживать связь, подобно транспортному уровню модели OSI. На этом уровне должны быть описаны два сквозных протокола. Первый, TCP (Transmission Control Protocol — протокол управления передачей), являет- ся надежным протоколом с установлением соединений, позволяющим без ошибок доставлять байтовый поток с одной машины на любую другую машину объединен- ной сети. Он разбивает входной поток байтов на отдельные сообщения и передает их межсетевому уровню. На пункте назначения получающий TCP-процесс собирает из полученных сообщений выходной поток. Кроме того, TCP осуществляет управление потоком, чтобы быстрый отправитель не завалил информацией медленного получателя. Второй протокол этого уровня, UDP (User Dataram Protocol — протокол пользовательских дейтограмм), является ненадежным протоколом без установления соединения, не использующим последовательное управление потоком протокола TCP, а предоставляющим свое собственное.
- Прикладной уровень содержит все протоколы высокого уровня.

### Типы сетей
Существует два типа сетей по способу передаче данных:
- Пакетные сети не устанавливают соединение. Каждый пакет двигается независимо от остальных. Как следствие, если во время сеанса некоторые маршрутизаторы выйдут из строя, то не возникнет никаких проблем, пока система может динамически реконфигурировать себя, позволяя по- следующим пакетам найти маршрут к месту назначения, даже если он отличается от того, который использовали предыдущие пакеты.
- Сети с коммутацией каналов устанавливают маршрут движения по сети, который остается стабильным, пока соединение не закончено. Все слова или пакеты следуют одним и тем же маршрутом. Если линия или коммутатор отключаются, соединение обрывается. Такой вариант менее устойчив к ошибкам, чем сети без установления соединения.

### Стандартизация сетей
Одним из основных игроков на поле стандартизации является Институт инженеров по электротехнике и электронике (IEEE, Institute of Electrical and Electronics Engineers). Ключевые направления рабочей группы 802:
- `802.3` — Ethernet
- `802.11` — беспроводные ЛВС
- `802.15` — персональные сети (Bluetooth)
- `802.16` — широкополосные беспроводные ЛВС

## Глава 2. Физический уровень
